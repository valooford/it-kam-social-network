{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Profile/UserInfo/UserInfo.module.css","components/Profile/Profile.module.css","components/Profile/UserInfo/ProfileUpdateForm/ProfileUpdateForm.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/SendForm/SendForm.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/UserInfo/UserStatus.jsx","components/Profile/UserInfo/ProfileUpdateForm/ProfileUpdateForm.jsx","components/Profile/UserInfo/UserInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/SendForm/SendForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapAuthorizedStateToProps","state","isAuthorized","auth","withAuthRedirect","Component","connect","props","undefined","to","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","_s","_i","next","done","push","value","length","err","TypeError","UserStatus","useState","editMode","setEditMode","statusText","status","setStatus","useEffect","toggleEditMode","myProfile","className","styles","autoFocus","onBlur","updateUserStatus","onChange","e","target","onDoubleClick","reduxForm","form","onSubmit","handleSubmit","type","onClick","onCloseWithoutSubmit","error","fields","htmlFor","Field","component","name","id","UserInfo","profileInfo","photo","photos","large","fullName","aboutMe","contacts","lookingForAJob","lookingForAJobDescription","updateProfileInfo","updateProfileAvatar","exitEditMode","container","avatar","avatar__image","src","alt","avatar__upload","files","avatar__uploadButton","avatar__uploadLabel","userInfo","info","then","console","log","initialValues","description","lookingForAJob__image","title","keys","filter","c","map","key","href","Post","post","message","maxLength300","maxLength","sendForm","join","ValidatedTextarea","validate","required","inputArea","placeholder","submit","MyPosts","posts","addPost","postText","p","MyPostsContainer","compose","React","memo","profilePage","small","Profile","content","picture","ProfileContainer","loadProfileAndStatus","userId","match","params","myId","getProfileData","getUserStatus","this","prevProps","prevState","Preloader","updateProfile","withRouter","authData","dispatch","catch","stopSubmit","_error"],"mappings":"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","file":"static/js/3.2ac3b1eb.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../components/common/Preloader';\r\n\r\nfunction mapAuthorizedStateToProps(state) {\r\n  return {\r\n    isAuthorized: state.auth.isAuthorized\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect(Component) {\r\n  function AuthRedirectComponent(props) {\r\n    if (props.isAuthorized === true) return <Component {...props} />; // authorized\r\n    if (props.isAuthorized === undefined) return <Preloader />; // pending\r\n    return <Redirect to='/login' />; // not authorized\r\n  }\r\n  return connect(mapAuthorizedStateToProps)(AuthRedirectComponent);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserInfo_container__2BFMb\",\"userInfo\":\"UserInfo_userInfo__17U0R\",\"avatar\":\"UserInfo_avatar__1gjuh\",\"avatar__image\":\"UserInfo_avatar__image__2XUtE\",\"avatar__upload\":\"UserInfo_avatar__upload__1pAr5\",\"avatar__uploadButton\":\"UserInfo_avatar__uploadButton__3VVPo\",\"avatar__uploadLabel\":\"UserInfo_avatar__uploadLabel__3DuR6\",\"name\":\"UserInfo_name__1BG1H\",\"status\":\"UserInfo_status__2VUwE\",\"description\":\"UserInfo_description__2Lon0\",\"lookingForAJob\":\"UserInfo_lookingForAJob__2WtbO\",\"lookingForAJob__image\":\"UserInfo_lookingForAJob__image__3C6fr\",\"contacts\":\"UserInfo_contacts__1897d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"Profile_picture__3qPzm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileUpdateForm_form__-oWCl\",\"fields\":\"ProfileUpdateForm_fields__gMbtc\",\"error\":\"ProfileUpdateForm_error__30RYu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MyPosts_title__20rtx\",\"sendForm\":\"MyPosts_sendForm__233eU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1V4dg\",\"avatar\":\"Post_avatar__2T0BL\",\"message\":\"Post_message___Ra6h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputArea\":\"SendForm_inputArea__1nPZo\",\"submit\":\"SendForm_submit__3mACp\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from 'react';\r\nimport styles from './UserInfo.module.css';\r\n\r\nfunction UserStatus(props) {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.statusText);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.statusText);\r\n  }, [props.statusText]);\r\n\r\n  let toggleEditMode = () => {\r\n    if (!props.myProfile) return;\r\n    setEditMode(!editMode);\r\n  }\r\n  let handleStatusInput = (e) => {\r\n    setStatus(e.target.value);\r\n  }\r\n  let handleStatusUpdate = () => {\r\n    toggleEditMode();\r\n    if (props.statusText !== status) {\r\n      props.updateUserStatus(status);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <span className={styles.status}>\r\n      {editMode\r\n        ? \r\n        <input autoFocus onBlur={ handleStatusUpdate } onChange={ handleStatusInput } value={status} />\r\n        : \r\n        <span onDoubleClick={toggleEditMode}>{status || \"-----\"}</span>}\r\n    </span>\r\n  );\r\n}\r\n\r\n/*class UserStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.statusText\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.statusText !== prevProps.statusText) {\r\n      this.setState({status: this.props.statusText});\r\n    }\r\n  }\r\n  toggleEditMode = () => {\r\n    if (!this.props.myProfile) return;\r\n    this.setState({editMode: !this.state.editMode});\r\n  }\r\n  handleStatusInput = (e) => {\r\n    this.setState({status: e.target.value});\r\n  }\r\n  handleStatusUpdate = () => {\r\n    this.toggleEditMode();\r\n    if (this.props.statusText !== this.state.status) {\r\n      this.props.updateUserStatus(this.state.status);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <span className={styles.status}>\r\n        {this.state.editMode\r\n          ? \r\n          <input autoFocus onBlur={ this.handleStatusUpdate } onChange={ this.handleStatusInput } value={this.state.status} />\r\n          : \r\n          <span onDoubleClick={this.toggleEditMode}>{this.state.status || \"-----\"}</span>}\r\n      </span>\r\n    );\r\n  }\r\n}*/\r\n\r\nexport default UserStatus;","import React from 'react';\r\nimport styles from './ProfileUpdateForm.module.css';\r\nimport { reduxForm, Field } from 'redux-form';\r\n\r\nfunction ProfileUpdateForm(props) {\r\n  return <form className={styles.form} onSubmit={props.handleSubmit}>\r\n    <button type='button' onClick={props.onCloseWithoutSubmit}>Exit</button>\r\n    <button type='submit'>Save</button>\r\n    {props.error && <span className={styles.error}>{props.error}</span>}\r\n    <div className={styles.fields}>\r\n      <label htmlFor='fullName'>Full name: </label><Field component='input' name='fullName' id='fullName' />\r\n      <label htmlFor='aboutMe'>About me: </label><Field component='input' name='aboutMe' id='aboutMe' />\r\n      <label htmlFor='github'>Github: </label><Field component='input' name='contacts.github' id='github' />\r\n      <label htmlFor='website'>Website: </label><Field component='input' name='contacts.website' id='website' />\r\n      <label htmlFor='lookingForAJob'>Looking for a job: </label><Field component='input' type='checkbox' name='lookingForAJob' id='lookingForAJob' />\r\n      <label htmlFor='lookingForAJobDescription'>Description: </label><Field component='textarea' name='lookingForAJobDescription' id='lookingForAJobDescription' />\r\n    </div>\r\n  </form>\r\n}\r\n\r\nexport default reduxForm({\r\n  form: \"profileupdate\"\r\n})(ProfileUpdateForm);","import React, { useState } from 'react';\r\nimport styles from './UserInfo.module.css';\r\nimport UserStatus from './UserStatus';\r\nimport ProfileUpdateForm from './ProfileUpdateForm/ProfileUpdateForm';\r\n\r\nfunction UserInfo(props) {\r\n  const {\r\n    profileInfo: {\r\n      photos: {large: photo}, \r\n      fullName, \r\n      aboutMe,\r\n      contacts,\r\n      lookingForAJob,\r\n      lookingForAJobDescription\r\n    },\r\n    profileInfo,\r\n    statusText,\r\n    myProfile,\r\n    updateUserStatus,\r\n    updateProfileInfo,\r\n    updateProfileAvatar\r\n  } = props;\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n  function enterEditMode() {\r\n    setEditMode(true);\r\n  }\r\n  function exitEditMode() {\r\n    setEditMode(false);\r\n  }\r\n  function onEditSubmit(info) {\r\n    updateProfileInfo(info).then(() => {\r\n      exitEditMode();\r\n    }, (error) => {console.log(error)});\r\n  }\r\n  function uploadPhoto(e) {\r\n    updateProfileAvatar(e.target.files[0]);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <span className={styles.avatar}>\r\n        <img  className={styles.avatar__image} \r\n              src={photo || \"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/1:1/w_722,h_722,c_limit/phonepicutres-TA.jpg\"} \r\n              alt='User' />\r\n        {myProfile && <div className={styles.avatar__upload}>\r\n          <input type='file' onChange={uploadPhoto} className={styles.avatar__uploadButton} id='avatarFileInput' />\r\n          <label className={styles.avatar__uploadLabel} htmlFor='avatarFileInput'>Upload</label>\r\n        </div>}\r\n      </span>\r\n      <div className={styles.userInfo}>\r\n        <p className={styles.name}>\r\n          {fullName}\r\n          <UserStatus statusText={statusText} updateUserStatus={updateUserStatus} myProfile={myProfile} />\r\n        </p>\r\n        { editMode\r\n          ?\r\n          <ProfileUpdateForm onSubmit={onEditSubmit} initialValues={profileInfo} onCloseWithoutSubmit={exitEditMode} />\r\n          :\r\n          <div className={styles.description} onDoubleClick={myProfile ? enterEditMode : \"\"}>\r\n            {aboutMe || \"no information\"}\r\n            <br />\r\n            {lookingForAJob\r\n              ?\r\n              <span className={styles.lookingForAJob}>\r\n                <img className={styles.lookingForAJob__image}\r\n                  src=\"https://www.radan.com/images/icons/hexagon/darkblue/GENERAL_USE_DARK_BLUE_ICON_PRESENTER.png\"\r\n                  title=\"Looking for a job\"\r\n                  alt=\"Looking for a job: \"\r\n                /> {lookingForAJobDescription}\r\n              </span>\r\n              :\r\n              null}\r\n            <ul className={styles.contacts}>\r\n              {Object.keys(contacts)\r\n                .filter(c => !!contacts[c])\r\n                .map(c => <li key={c}><a href={\"https://\" + contacts[c]}>{c}</a></li>)}\r\n            </ul>\r\n          </div>}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n  return (\r\n    <div className={styles.post}>\r\n      <img className={styles.avatar} src={props.photo || \"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/1:1/w_722,h_722,c_limit/phonepicutres-TA.jpg\"} alt='User' />\r\n      <p className={styles.message}>{\"\\t\" + props.message}&nbsp;</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './SendForm.module.css';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { ValidatedTextarea } from '../../../common/ValidatedComponents';\r\nimport { required, maxLength } from '../../../../utils/validators';\r\n\r\nlet maxLength300 = maxLength(300);\r\n\r\nfunction SendForm(props) {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={[styles.sendForm, \"clearfix\"].join(\" \")}>\r\n      <Field component={ValidatedTextarea} validate={[required, maxLength300]} name=\"postText\" className={styles.inputArea} placeholder='your news..' />\r\n      <button className={styles.submit}>Send</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default reduxForm({ form: \"sendForm\" })(SendForm);","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport SendForm from './SendForm/SendForm';\r\n\r\nfunction MyPosts(props) {\r\n  function handleSendMessage(fields) {\r\n    props.addPost(fields.postText);\r\n  }\r\n  return (\r\n    <div className={styles.posts}>\r\n      <p className={styles.title}>My posts</p>\r\n      <div className={styles.sendForm}>\r\n        <SendForm onSubmit={handleSendMessage} />\r\n      </div>\r\n      {props.posts.map(p => <Post photo={props.photo} message={p.postText} key={p.id} />)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPost } from '../../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\nimport MyPosts from './MyPosts';\r\nimport { compose } from 'redux';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    photo: state.profilePage.profileInfo.photos.small,\r\n    posts: state.profilePage.posts\r\n  };\r\n}\r\n\r\nlet MyPostsContainer = compose(React.memo, connect(mapStateToProps, { addPost })) (MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport UserInfo from './UserInfo/UserInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <main className={styles.content}>\r\n      <div>\r\n        <img className={styles.picture} src='https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/the-grand-tetons-panoramic-in-winter-jackson-hole-wyoming-susan-rigdon-ervin.jpg' alt='' />\r\n      </div>\r\n      <UserInfo {...props}  />\r\n      <div className={styles.posts}>\r\n        <MyPostsContainer />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getProfileData, getUserStatus, updateUserStatus, updateProfileInfo, updateProfileAvatar } from '../../redux/profile-reducer';\r\nimport Preloader from '../common/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profileInfo: state.profilePage.profileInfo,\r\n    statusText: state.profilePage.statusText,\r\n    myId: state.auth.authData.id\r\n  };\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n  loadProfileAndStatus = () => {\r\n    let userId = this.props.match.params.userId || this.props.myId;\r\n    this.props.getProfileData(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  componentDidMount() {\r\n    this.loadProfileAndStatus();\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.match.params.userId !== this.props.match.params.userId) {\r\n      this.loadProfileAndStatus();\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.props.match.params.userId && this.props.myId) return <Redirect to={\"profile/\" + this.props.myId} />;\r\n    if (!this.props.profileInfo) return <Preloader />;\r\n\r\n    const {getProfileData, updateProfileInfo: updateProfile, getUserStatus, myId, isAuthorized, ...props} = this.props;\r\n    const updateProfileInfo = (profileInfo) => updateProfile(profileInfo, myId);\r\n    return <Profile {...props} updateProfileInfo={updateProfileInfo} myProfile={+this.props.match.params.userId === myId} />;\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    updateProfileInfo(profileInfo, myId) {\r\n      return dispatch(updateProfileInfo(profileInfo, myId)).catch((message) => { dispatch(stopSubmit(\"profileupdate\", {_error: message})); throw message;});\r\n    }\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { getProfileData, updateProfileAvatar, getUserStatus, updateUserStatus }),\r\n  connect(null, mapDispatchToProps)\r\n)(ProfileContainer)"],"sourceRoot":""}