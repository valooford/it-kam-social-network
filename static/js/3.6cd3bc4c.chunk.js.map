{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Profile/UserInfo/UserInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/SendForm/SendForm.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/UserInfo/UserStatus.jsx","components/Profile/UserInfo/UserInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/SendForm/SendForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapAuthorizedStateToProps","state","isAuthorized","auth","withAuthRedirect","Component","connect","props","undefined","to","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","_s","_i","next","done","push","value","length","err","TypeError","UserStatus","useState","editMode","setEditMode","statusText","status","setStatus","useEffect","toggleEditMode","myProfile","className","styles","autoFocus","onBlur","updateUserStatus","onChange","e","target","onDoubleClick","UserInfo","userInfo","avatar","src","profileInfo","photos","small","alt","name","fullName","description","aboutMe","Post","post","message","maxLength300","maxLength","reduxForm","form","onSubmit","handleSubmit","sendForm","join","Field","component","ValidatedTextarea","validate","required","inputArea","placeholder","submit","MyPosts","posts","title","fields","addPost","postText","map","p","key","id","MyPostsContainer","compose","React","memo","profilePage","Profile","content","picture","ProfileContainer","userId","this","match","params","myId","getProfileData","getUserStatus","Preloader","withRouter","authData"],"mappings":"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","file":"static/js/3.6cd3bc4c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../components/common/Preloader';\r\n\r\nfunction mapAuthorizedStateToProps(state) {\r\n  return {\r\n    isAuthorized: state.auth.isAuthorized\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect(Component) {\r\n  function AuthRedirectComponent(props) {\r\n    if (props.isAuthorized === true) return <Component {...props} />; // authorized\r\n    if (props.isAuthorized === undefined) return <Preloader />; // pending\r\n    return <Redirect to='/login' />; // not authorized\r\n  }\r\n  return connect(mapAuthorizedStateToProps)(AuthRedirectComponent);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"UserInfo_userInfo__17U0R\",\"avatar\":\"UserInfo_avatar__1gjuh\",\"name\":\"UserInfo_name__1BG1H\",\"status\":\"UserInfo_status__2VUwE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"Profile_picture__3qPzm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MyPosts_title__20rtx\",\"sendForm\":\"MyPosts_sendForm__233eU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1V4dg\",\"avatar\":\"Post_avatar__2T0BL\",\"message\":\"Post_message___Ra6h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputArea\":\"SendForm_inputArea__1nPZo\",\"submit\":\"SendForm_submit__3mACp\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from 'react';\r\nimport styles from './UserInfo.module.css';\r\n\r\nfunction UserStatus(props) {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.statusText);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.statusText);\r\n  }, [props.statusText]);\r\n\r\n  let toggleEditMode = () => {\r\n    if (!props.myProfile) return;\r\n    setEditMode(!editMode);\r\n  }\r\n  let handleStatusInput = (e) => {\r\n    setStatus(e.target.value);\r\n  }\r\n  let handleStatusUpdate = () => {\r\n    toggleEditMode();\r\n    if (props.statusText !== status) {\r\n      props.updateUserStatus(status);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <span className={styles.status}>\r\n      {editMode\r\n        ? \r\n        <input autoFocus onBlur={ handleStatusUpdate } onChange={ handleStatusInput } value={status} />\r\n        : \r\n        <span onDoubleClick={toggleEditMode}>{status || \"-----\"}</span>}\r\n    </span>\r\n  );\r\n}\r\n\r\n/*class UserStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.statusText\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.statusText !== prevProps.statusText) {\r\n      this.setState({status: this.props.statusText});\r\n    }\r\n  }\r\n  toggleEditMode = () => {\r\n    if (!this.props.myProfile) return;\r\n    this.setState({editMode: !this.state.editMode});\r\n  }\r\n  handleStatusInput = (e) => {\r\n    this.setState({status: e.target.value});\r\n  }\r\n  handleStatusUpdate = () => {\r\n    this.toggleEditMode();\r\n    if (this.props.statusText !== this.state.status) {\r\n      this.props.updateUserStatus(this.state.status);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <span className={styles.status}>\r\n        {this.state.editMode\r\n          ? \r\n          <input autoFocus onBlur={ this.handleStatusUpdate } onChange={ this.handleStatusInput } value={this.state.status} />\r\n          : \r\n          <span onDoubleClick={this.toggleEditMode}>{this.state.status || \"-----\"}</span>}\r\n      </span>\r\n    );\r\n  }\r\n}*/\r\n\r\nexport default UserStatus;","import React from 'react';\r\nimport styles from './UserInfo.module.css';\r\nimport UserStatus from './UserStatus';\r\n\r\nfunction UserInfo(props) {\r\n  return (\r\n    <div className={styles.userInfo}>\r\n      <img  className={styles.avatar} \r\n            src={props.profileInfo.photos.small || \"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/1:1/w_722,h_722,c_limit/phonepicutres-TA.jpg\"} \r\n            alt='User' />\r\n      <p className={styles.name}>\r\n        {props.profileInfo.fullName}\r\n        <UserStatus statusText={props.statusText} updateUserStatus={props.updateUserStatus} myProfile={props.myProfile} />\r\n        </p>\r\n      <p className={styles.description}>{props.profileInfo.aboutMe || \"no information\"}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserInfo;\r\n\r\n// return (\r\n//   <div className={styles.userInfo}>\r\n//     <img className={styles.avatar} src='https://media.wired.com/photos/598e35fb99d76447c4eb1f28/1:1/w_722,h_722,c_limit/phonepicutres-TA.jpg' alt='User' />\r\n//     <p className={styles.name}>My Name</p>\r\n//     <p className={styles.description}>Some information about me.</p>\r\n//   </div>\r\n// );","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n  return (\r\n    <div className={styles.post}>\r\n      <img className={styles.avatar} src='https://media.wired.com/photos/598e35fb99d76447c4eb1f28/1:1/w_722,h_722,c_limit/phonepicutres-TA.jpg' alt='User' />\r\n      <p className={styles.message}>{\"\\t\" + props.message}&nbsp;</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './SendForm.module.css';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { ValidatedTextarea } from '../../../common/ValidatedComponents';\r\nimport { required, maxLength } from '../../../../utils/validators';\r\n\r\nlet maxLength300 = maxLength(300);\r\n\r\nfunction SendForm(props) {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={[styles.sendForm, \"clearfix\"].join(\" \")}>\r\n      <Field component={ValidatedTextarea} validate={[required, maxLength300]} name=\"postText\" className={styles.inputArea} placeholder='your news..' />\r\n      <button className={styles.submit}>Send</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default reduxForm({ form: \"sendForm\" })(SendForm);","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport SendForm from './SendForm/SendForm';\r\n\r\nfunction MyPosts(props) {\r\n  function handleSendMessage(fields) {\r\n    props.addPost(fields.postText);\r\n  }\r\n  return (\r\n    <div className={styles.posts}>\r\n      <p className={styles.title}>My posts</p>\r\n      <div className={styles.sendForm}>\r\n        <SendForm onSubmit={handleSendMessage} />\r\n      </div>\r\n      {props.posts.map(p => <Post message={p.postText} key={p.id} />)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPost } from '../../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\nimport MyPosts from './MyPosts';\r\nimport { compose } from 'redux';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    posts: state.profilePage.posts\r\n  };\r\n}\r\n\r\nlet MyPostsContainer = compose(React.memo, connect(mapStateToProps, { addPost })) (MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport UserInfo from './UserInfo/UserInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <main className={styles.content}>\r\n      <div>\r\n        <img className={styles.picture} src='https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/the-grand-tetons-panoramic-in-winter-jackson-hole-wyoming-susan-rigdon-ervin.jpg' alt='' />\r\n      </div>\r\n      <UserInfo {...props}  />\r\n      <div className={styles.posts}>\r\n        <MyPostsContainer />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getProfileData, getUserStatus, updateUserStatus } from '../../redux/profile-reducer';\r\nimport Preloader from '../common/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profileInfo: state.profilePage.profileInfo,\r\n    statusText: state.profilePage.statusText,\r\n    myId: state.auth.authData.id\r\n  };\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId || this.props.myId;\r\n    this.props.getProfileData(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  render() {\r\n    if (!this.props.match.params.userId && this.props.myId) return <Redirect to={\"profile/\" + this.props.myId} />;\r\n    if (!this.props.profileInfo) return <Preloader />;\r\n    \r\n    let {getProfileData, getUserStatus, myId, isAuthorized, ...props} = this.props;\r\n    return <Profile {...props} myProfile={+this.props.match.params.userId === myId} />;\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { getProfileData, getUserStatus, updateUserStatus })\r\n)(ProfileContainer)"],"sourceRoot":""}